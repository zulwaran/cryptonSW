(this.webpackJsonpcrypton=this.webpackJsonpcrypton||[]).push([[0],{68:function(e,t,n){},69:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(18),i=n.n(a),o=n(22),s=n(3),l=n(17),u=n(10),d={gender:"all",filter:""},f="SET_GENDER",j="SET_FILTER",h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(u.a)(Object(u.a)({},e),{},{gender:t.payload});case j:return Object(u.a)(Object(u.a)({},e),{},{filter:t.payload});default:return e}},b={heroesArr:[],isGetData:!1,favoriteHeroId:[]},O="FETCH_HEROES",g="SET_DATA",p="SET_FAVORITE_HERO_ID",v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(u.a)(Object(u.a)({},e),{},{heroesArr:t.payload});case g:return Object(u.a)(Object(u.a)({},e),{},{isGetData:t.payload});case p:return Object(u.a)(Object(u.a)({},e),{},{favoriteHeroId:t.payload});default:return e}},x=Object(l.b)({filter:h,heroes:v}),m=n(8),y=n(35),S=n(13),_=n.n(S),N=n(16),k=n(21),w=n(11),E=n(36),I=n.n(E).a.create({baseURL:"https://swapi.dev/api/"}),F=n(39),C=n(1),T=function(e){return Object(C.jsx)("div",{className:"hero",children:e.heroes.map((function(t){return Object(C.jsxs)("div",{className:"hero__card",children:[Object(C.jsx)("img",{src:t.img,alt:"hero",className:"hero__card-img"}),Object(C.jsxs)("p",{className:"hero__card-largeText",children:["\u0418\u043c\u044f: ",t.name]}),Object(C.jsxs)("p",{className:"hero__card-mediumText",children:["\u041f\u043b\u0430\u043d\u0435\u0442\u0430 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f: ",t.homeworld]}),Object(C.jsx)(F.a,{cursor:"pointer",color:e.favoriteHeroId.includes(t.id)?"red":"black",onClick:function(){return e.toggleFavorite(t)}})]},t.id)}))})},G=n(37),L=function(e){var t=Object(G.useState)(""),n=Object(w.a)(t,2),c=n[0],r=n[1];return Object(C.jsxs)("div",{className:"filter",children:[Object(C.jsx)("h1",{children:"\u0424\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(C.jsxs)("div",{className:"filter__block",children:[Object(C.jsx)("input",{type:"text",className:"filter__input",value:c,onChange:function(t){return function(t){r(t.target.value),e.setFilter(t.target.value)}(t)}}),Object(C.jsxs)("div",{className:"filter__gender",children:[Object(C.jsxs)("label",{children:["\u041b\u044e\u0431\u043e\u0439",Object(C.jsx)("input",{className:"filter__checkbox",type:"checkbox",checked:"all"===e.gender,onChange:function(t){e.setGender("all")}})]}),Object(C.jsxs)("label",{children:["\u041c\u0443\u0436\u0447\u0438\u043d\u0430",Object(C.jsx)("input",{type:"checkbox",className:"filter__checkbox",checked:"male"===e.gender,onChange:function(t){e.setGender("male")}})]}),Object(C.jsxs)("label",{children:["\u0416\u0435\u043d\u0449\u0438\u043d\u0430",Object(C.jsx)("input",{type:"checkbox",className:"filter__checkbox",checked:"female"===e.gender,onChange:function(t){e.setGender("female")}})]}),Object(C.jsxs)("label",{children:["\u0414\u0440\u0443\u0433\u043e\u0435",Object(C.jsx)("input",{type:"checkbox",className:"filter__checkbox",checked:"n/a"===e.gender,onChange:function(t){e.setGender("n/a")}})]})]})]})]})},H=function(e){return{type:f,payload:e}},J=function(e){return{type:j,payload:e}},D=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.heroes.heroesArr})),n=function(t){e({type:O,payload:t})},r=Object(m.c)((function(e){return e.heroes.isGetData})),a=function(t){e({type:g,payload:t})},i=Object(m.c)((function(e){return e.heroes.favoriteHeroId})),o=function(t){e({type:p,payload:t})},s=Object(m.c)((function(e){return e.filter.filter})),l=function(t){e(J(t))},u=Object(m.c)((function(e){return e.filter.gender})),d=function(t){e(H(t))},f=Object(c.useState)(t),j=Object(w.a)(f,2),h=j[0],b=j[1],v=function(){var e=[];if(b(t),"all"===u)return e=t.filter((function(e){return e.name.toLowerCase().includes(s.toLowerCase())})),void b(e);e=t.filter((function(e){return e.name.toLowerCase().includes(s.toLowerCase())&&e.gender===u})),b(e)},x=function(){var e=Object(k.a)(_.a.mark((function e(){var t,c,r,a,i,o,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="",c="",r="",a="",i=[],o=1;case 6:if(!(o<=83)){e.next=17;break}return e.next=9,I.get("/people/".concat(o)).then((function(e){t=e.data.name,c=e.data.gender})).catch((function(e){console.log(e),t="unknown"}));case 9:return e.next=11,I.get("/planets/".concat(o)).then((function(e){r=e.data.name})).catch((function(e){console.log(e),r="unknown"}));case 11:a="https://starwars-visualguide.com/assets/img/characters/".concat(o,".jpg"),s={id:o,name:t,gender:c,homeworld:r,img:a},i=[].concat(Object(N.a)(i),[s]);case 14:o++,e.next=6;break;case 17:n(i),b(i);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e,t){e.push(t),localStorage.setItem("favorite",JSON.stringify(e)),o([].concat(Object(N.a)(i),[t.id]))},S=function(e,t){var n=[];(e=e.filter((function(e){return e.id!==t.id}))).forEach((function(e){n.push(e.id)})),localStorage.setItem("favorite",JSON.stringify(e)),o(n)};return Object(c.useEffect)((function(){r||(x(),a(!0)),function(){var e=[];e=JSON.parse(localStorage.getItem("favorite"))||[];var t=[];0!==e.length&&(e.forEach((function(e){t.push(e.id)})),o(t))}(),v()}),[s,u]),0!==t.length?Object(C.jsxs)("div",{children:[Object(C.jsx)(L,{heroFiltering:v,gender:u,setGender:d,setFilter:l}),Object(C.jsx)(T,{heroes:h,favoriteHeroId:i,setFavoriteHeroId:o,toggleFavorite:function(e){var t=[],n=[];(t=JSON.parse(localStorage.getItem("favorite"))||[]).forEach((function(e){n.push(e.id)})),0!==t.length&&n.includes(e.id)?S(t,e):y(t,e)}})]}):Object(C.jsxs)("div",{children:[Object(C.jsx)(L,{heroFiltering:v,gender:u,setGender:d,setFilter:l}),Object(C.jsx)("p",{className:"containerText",children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0435\u0439..."})]})},A=function(){var e=Object(m.b)(),t=Object(c.useState)(!1),n=Object(w.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)([]),o=Object(w.a)(i,2),s=o[0],l=o[1],u=Object(c.useState)(s),d=Object(w.a)(u,2),f=d[0],j=d[1],h=Object(c.useState)([]),b=Object(w.a)(h,2),O=b[0],g=b[1],p=Object(m.c)((function(e){return e.filter.filter})),v=function(t){e(J(t))},x=Object(m.c)((function(e){return e.filter.gender})),y=function(t){e(H(t))},S=function(){var e=[];if(j(s),"all"===x)return e=s.filter((function(e){return e.name.toLowerCase().includes(p.toLowerCase())})),void j(e);e=s.filter((function(e){return e.name.toLowerCase().includes(p.toLowerCase())&&e.gender===x})),j(e)},E=function(){var e=Object(k.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return[],t=[],e.next=4,JSON.parse(localStorage.getItem("favorite"));case 4:if(e.t0=e.sent,e.t0){e.next=7;break}e.t0=[];case 7:e.t0.forEach((function(e){t.push(e)})),l(t),j(t);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(e,t){e.push(t),localStorage.setItem("favorite",JSON.stringify(e)),g([].concat(Object(N.a)(O),[t.id]))},F=function(e,t){var n=[];(e=e.filter((function(e){return e.id!==t.id}))).forEach((function(e){n.push(e.id)})),localStorage.setItem("favorite",JSON.stringify(e));var c=f.filter((function(e){return e.id!==t.id}));j(c),g(n)};return Object(c.useEffect)((function(){r||(E(),function(){var e=[];e=JSON.parse(localStorage.getItem("favorite"))||[];var t=[];0!==e.length&&(e.forEach((function(e){t.push(e.id)})),g(t))}(),a(!0)),S()}),[p,x]),0!==f.length?Object(C.jsxs)("div",{children:[Object(C.jsx)(L,{heroFiltering:S,gender:x,setGender:y,setFilter:v}),Object(C.jsx)(T,{heroes:f,favoriteHeroId:O,setFavoriteHeroId:g,toggleFavorite:function(e){var t=[],n=[];(t=JSON.parse(localStorage.getItem("favorite"))||[]).forEach((function(e){n.push(e.id)})),0!==t.length&&n.includes(e.id)?F(t,e):I(t,e)}})]}):Object(C.jsxs)("div",{children:[Object(C.jsx)(L,{heroFiltering:S,gender:x,setGender:y,setFilter:v}),Object(C.jsx)("p",{className:"containerText",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043b\u044e\u0431\u0438\u043c\u044b\u0445 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0435\u0439 \u043f\u0443\u0441\u0442"})]})},R=(n(68),n(69),Object(l.c)(x,Object(l.a)(y.a))),B=function(){return Object(C.jsx)(m.a,{store:R,children:Object(C.jsx)(o.a,{children:Object(C.jsxs)("div",{children:[Object(C.jsx)("nav",{className:"navigation",children:Object(C.jsxs)("ul",{children:[Object(C.jsx)("li",{children:Object(C.jsx)(o.b,{to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"})}),Object(C.jsx)("li",{children:Object(C.jsx)(o.b,{to:"/favorite",children:"\u041b\u044e\u0431\u0438\u043c\u044b\u0435 \u0433\u0435\u0440\u043e\u0438"})})]})}),Object(C.jsxs)(s.c,{children:[Object(C.jsx)(s.a,{path:"/favorite",children:Object(C.jsx)(A,{})}),Object(C.jsx)(s.a,{path:"/",children:Object(C.jsx)(D,{})})]})]})})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(B,{})}),document.getElementById("root")),P()}},[[72,1,2]]]);
//# sourceMappingURL=main.3b5fb2eb.chunk.js.map